(()=>{"use strict";function e(e,t,n,i){const o=document.createElement("div");return o.className=t,o.id=n,i&&(o.innerHTML=i),e&&(o.textContent=e),o}function t(){const e=new Date;return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}function n(e){i.length=0,c.forEach((t=>{t.date===e&&i.push(t)}))}let i=[];const o=[{date:t(),type:"Todays Workout?",exercises:[{name:"Workout Name",description:"",sets:[{weight:0,reps:0}]}]}];let c=[{date:t(),type:"Test Workout 1",exercises:[{name:"Bench Press",description:"Flat Bench Press",sets:[{weight:135,reps:10},{weight:135,reps:10},{weight:135,reps:10}]},{name:"Chest Fly Machine Cable",description:"Flat Bench Press",sets:[{weight:90,reps:7},{weight:90,reps:3},{weight:90,reps:9},{weight:90,reps:9}]}]}];const r=document.querySelector(".main-container"),s=document.querySelector(".edit-buttons-container"),d=document.querySelector(".main-workout-container");let a="all",p=!1;function l(){p="all"!==a}function u(t){a="all",l(),r.innerHTML="",t.forEach(((t,n)=>{!function(t,n,o){l();const c=e(t.date,"date",n),r=e(t.type,"workout-type",n);o.appendChild(c),o.appendChild(r),t.exercises.forEach(((t,n)=>{const c=e("","workout-container",n),r=e(t.name,"workout-container-top",n);c.appendChild(r);const s=e("","sets-container",n);t.sets.forEach(((e,t)=>{const n=h(e,t);s.appendChild(n)})),c.appendChild(s),c.addEventListener("click",(e=>{console.log(e.currentTarget.id),g(i[0].exercises[e.currentTarget.id],e.currentTarget.id)})),d.appendChild(c),o.appendChild(d)})),s.innerHTML="",f()}(t,n,r)}))}function h(t,n){const i=e("","set-container-bottom",n),o=e(`Set ${n+1} `,"",n),c=e("Reps ","",n),r=e(`${t.reps}`,"",n),s=e("Weight ","",n),d=e(`${t.weight}`,"",n);return p&&(r.contentEditable="true",d.contentEditable="true",C(r,t,"reps"),C(d,t,"weight")),i.appendChild(o),i.appendChild(c),i.appendChild(r),i.appendChild(s),i.appendChild(d),i}function C(e,t,n){e.addEventListener("input",(()=>{t[n]=e.textContent}))}function g(t,n){a="single",l(),r.innerHTML="";const o=e(i[0].date,"date",0),c=e(i[0].type,"workout-type",0);r.appendChild(o),r.appendChild(c);const s=e("","workout-container"),d=e(t.name,"");p&&(d.contentEditable="true",d.addEventListener("input",(()=>{t.name=d.textContent})));const u=e("","sets-container");t.sets.forEach(((e,t)=>{const n=h(e,t);u.appendChild(n)})),s.appendChild(d),s.appendChild(u),r.appendChild(s),f(n,t)}function f(a,h){p?(function(){s.innerHTML="";const t=e("Back","back-button");t.addEventListener("click",(()=>{d.innerHTML="",u(i)})),s.appendChild(t)}(),function(t){const n=e("Add Set","back-button");n.addEventListener("click",(()=>{d.innerHTML="";i[0].exercises[t].sets.push({reps:0,weight:0}),g(i[0].exercises[t],t)})),s.appendChild(n)}(a),function(t){const n=e("Delete Last Set","back-button");n.addEventListener("click",(()=>{d.innerHTML="",i[0].exercises[t].sets.pop(),g(i[0].exercises[t],t)})),s.appendChild(n)}(a),function(t,n){const o=e("Delete Workout","back-button");o.addEventListener("click",(()=>{d.innerHTML="",function(e){let t=document.querySelector(".date").textContent;c.forEach((n=>{n.date===t&&(n.exercises=n.exercises.filter((t=>t!=e)))}))}(n),l(),d.innerHTML="",u(i)})),s.appendChild(o)}(0,h)):function(r){const a=e("Add Workout","back-button");a.addEventListener("click",(()=>{d.innerHTML="",function(){n(t());const e=structuredClone(o);if(i.length>0){let t=document.querySelector(".date").textContent;c.forEach((n=>{n.date===t&&n.exercises.push(e[0].exercises[0])}))}else c.push(e[0]);console.log(c)}(),l(),g(i[0].exercises[r],r)})),s.appendChild(a)}(i[0].exercises.length),r.appendChild(s)}n(t()),u(i),console.log(i)})();